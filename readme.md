# –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTTP/3 –≤ Java: —á—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ JDK 26 –∏ –∫–∞–∫ —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

–í **JDK 26** –ø–æ—è–≤–∏–ª–∞—Å—å –¥–æ–ª–≥–æ–∂–¥–∞–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ **HTTP/3** –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º –∫–ª–∞—Å—Å–µ *HttpClient*. –•–æ—Ç—è —Å–∞–º–æ API –ø–æ—á—Ç–∏ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å, —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è **HTTP/3** –∫–∞–∫ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞, —Ç–∞–∫ –∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∑–∞–ø—Ä–æ—Å–∞. –í –Ω–æ–≤–æ–º –ø–µ—Ä–µ–≤–æ–¥–µ –æ—Ç –∫–æ–º–∞–Ω–¥—ã *Spring* –ê–π–û –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—ã–±–æ—Ä –≤–µ—Ä—Å–∏–∏ *HTTP*, —á—Ç–æ —Ç–∞–∫–æ–µ *Http3DiscoveryMode*, –∫–∞–∫ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **HTTP/3** –∏ –∫–∞–∫ *HttpClient* "–æ–±—É—á–∞–µ—Ç—Å—è" –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ alt-svc.
–û–¥–Ω–∞ –∏–∑ –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π **JDK 26** ‚Äî —ç—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ **HTTP/3** –≤ –∫–ª–∞—Å—Å–µ *HttpClient*, –∫–æ—Ç–æ—Ä—ã–π –≤—Ö–æ–¥–∏—Ç –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç Java SE –Ω–∞—á–∏–Ω–∞—è —Å **JDK 11**.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API HttpClient
–¢–µ–ø–µ—Ä—å —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É HTTP/3 —Å API `java.net.http.HttpClient`. –ï—Å–ª–∏ –≤—ã —Ä–∞–Ω–µ–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏ —Å —ç—Ç–∏–º API, —Ö–æ—Ä–æ—à–µ–π –æ—Ç–ø—Ä–∞–≤–Ω–æ–π —Ç–æ—á–∫–æ–π –±—É–¥–µ—Ç –µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è [Javadoc](https://docs.oracle.com/en/java/javase/25/docs/api/java.net.http/java/net/http/package-summary.html).

–í–∫—Ä–∞—Ç—Ü–µ, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä `java.net.http`.*HttpClient* –∏, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –≤—Å–µ–≥–æ —Å—Ä–æ–∫–∞ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è *HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤* –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä `java.net.http.HttpRequest` –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ—Ç–æ–¥ `HttpClient.send(...)` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è `java.net.http.HttpResponse`. –í –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö, –∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —Ö–æ—á–µ—Ç –æ–∂–∏–¥–∞—Ç—å –æ—Ç–≤–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `HttpClient.sendAsync(...)`, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç `java.util`.`concurrent.CompletableFuture`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ `HttpResponse`.

–ö–ª–∞—Å—Å HttpResponse –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–ª–∞ –æ—Ç–≤–µ—Ç–∞, –∫–æ–¥–∞ –æ—Ç–≤–µ—Ç–∞ HTTP, –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –∏ —Ç.–¥. –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω –ø—Ä–∏–º–µ—Ä —Ç–∏–ø–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```java HttpClient client = HttpClient.newBuilder().build(); // —Å–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä HttpClient
...
URI reqURI = new URI("https://www.google.com/");
HttpRequest req = HttpRequest.newBuilder().uri(reqURI).build(); // —Å–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –∑–∞–ø—Ä–æ—Å–∞
final HttpResponse.BodyHandler<String> bodyHandler = BodyHandlers.ofString(StandardCharsets.UTF_8);
HttpResponse<String> resp = client.send(req, bodyHandler); // –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –∏ –ø–æ–ª—É—á–∞–µ–º –æ—Ç–≤–µ—Ç –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏
System.out.println("status code: " + resp.statusCode() + " HTTP protocol version: " + resp.version()); // –≤—ã–≤–æ–¥–∏–º –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞ –∏ –≤–µ—Ä—Å–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ HTTP
```

–í–æ—Ç —Ç–∞–∫ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç üòÑ \
![HTTPS](/https.jpg)
### –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
----
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ **HTTP/3** –≤ *HttpClient* –∏–∑ **Java** –±—ã–ª–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ –æ—Å–Ω–æ–≤–Ω—É—é –≤–µ—Ç–∫—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è **JDK** –∏ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Å–±–æ—Ä–∫–∞—Ö [JDK 26 (early access builds)](https://jdk.java.net/26/).üëç

–•–æ—Ç—è —É–ª—É—á—à–µ–Ω–∏—è *API* –≤—ã–≥–ª—è–¥—è—Ç –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (—Ç–∞–∫ –∑–∞–¥—É–º–∞–Ω–æ), —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ *QUIC*, –∞ –∑–∞—Ç–µ–º –∏ **HTTP/3** –ø–æ–≤–µ—Ä—Ö *QUIC* ‚Äî —ç—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–Ω–æ–≥–æ–ª–µ—Ç–Ω–µ–π —Ä–∞–±–æ—Ç—ã –∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ **JDK**.

–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã, –∞ —Ç–∞–∫–∂–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–æ –æ–±—à–∏—Ä–Ω–æ–µ —Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å—ë –µ—â—ë –Ω–æ–≤–∞—è –∏ –ø–æ–∫–∞ —á—Ç–æ –Ω–µ –ø–æ–ª—É—á–∏–ª–∞ —à–∏—Ä–æ–∫–æ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ **JDK**.üò≤ üíÅüëå

–°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ **Discovery Mode**.
|–†–µ–∂–∏–º|–°—É—Ç—å (–∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç)|–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –Ω–∞ 1-–º –∑–∞–ø—Ä–æ—Å–µ|–§–æ–ª–±—ç–∫/–ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ H3|
|----------|--------------|-------------------------|----------------------------------|
|ANY|–ò–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∞–º–∞ –≤—ã–±–∏—Ä–∞–µ—Ç —Å–ø–æ—Å–æ–± —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ; –æ–±—ã—á–Ω–æ "–≥–æ–Ω–∫–∞": –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø—Ä–æ–±—É–µ—Ç H3 (QUIC) –∏ TLS/TCP –∏ –±–µ—Ä—ë—Ç —Ç–æ, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ.|–ú–æ–∂–µ—Ç –ø–æ–π—Ç–∏ –∏ –ø–æ H3, –∏ –ø–æ H2/H1 - –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, —á—Ç–æ –±—ã—Å—Ç—Ä–µ–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è; –µ—Å–ª–∏ preferredVersion=HTTP_3, –∫–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –¥–∞—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç H3.|–†–∞–∑—Ä–µ—à–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–∞—É–Ω–≥—Ä–µ–π–¥ –¥–æ H2/H1 - —Ü–µ–ª—å: –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞/–º–∞–∫—Å. –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å.
|ALT_SVC|–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ Alt-Svc (RFC 7838) –¥–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è H3-–µ–Ω–¥–ø–æ–π–Ω—Ç–∞. –ü–æ–∫–∞ Alt-Svc –Ω–µ –ø–æ–ª—É—á–µ–Ω, –æ–±—â–∞–µ—Ç—Å—è –ø–æ H2/H1.|–ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ H2/H1; –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è alt-svc: h3=... –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ - –ø–æ H3.|–ï—Å–ª–∏ Alt-Svc –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç, –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –Ω–∞ H2/H1; –¥–∞—É–Ω–≥—Ä–µ–π–¥ –¥–æ–ø—É—Å—Ç–∏–º.|
|HTTP_3_URI_ONLY|–ü—Ä–æ–±—É–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä—è–º–æ–π H3 –Ω–∞ origin (host:port –∏–∑ URI). Alt-Svc –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è|–ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ QUIC –∫ origin.|–ù–µ—Ç –¥–∞—É–Ω–≥—Ä–µ–π–¥–∞: –µ—Å–ª–∏ H3 –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω - –∑–∞–ø—Ä–æ—Å –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π.|

